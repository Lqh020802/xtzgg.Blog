---
title: 13-子窗口向父窗口传递信息
---

# 13-子窗口向父窗口传递信息

# 13-子窗口向父窗口传递信息
[AirL](https://mrhope.site)大约 1 分钟
- 

既然是子窗口向父窗口传递信息,那么我们就必须需要一个主窗口和子窗口

首先,我们创建一个主窗口和一个子窗口,分别在主窗口和子窗口添加一个点击按钮

主窗口按钮用于打开子窗口

子窗口按钮用于向主窗口发送信息
- 

子窗口中使用 window.opener.postMessage() 方法向主窗口发送信息

```javascript
const popbtn = document.getElementById("popbtn");
popbtn.onclick = function () {
  window.opener.postMessage("我是子窗口,向父窗口传递信息");
};
```

- 主窗口打开子窗口 并且接收子窗口传递过来的信息

```javascript
const btn = document.getElementById("btn");
btn.onclick = () => {
  window.open("../demo7/popup_page.html"); // 打开子窗口
};
window.addEventListener("message", (msg) => {
  const mytext = document.getElementById("mytext"); // 接收子窗口传递的信息
  mytext.innerHTML = msg.data;
});
```

![](/assets/子窗口传递信息.927a4d13.jpg)
[编辑此页open in new window](https://github.com/vuepress-theme-hope/vuepress-theme-hope/edit/main/demo/src/AirL-My-blog/Electron/13-子窗口向父窗口传递信息.md)[上一页12-嵌入网页和打开子窗口](/AirL-My-blog/Electron/12-%E5%B5%8C%E5%85%A5%E7%BD%91%E9%A1%B5%E5%92%8C%E6%89%93%E5%BC%80%E5%AD%90%E7%AA%97%E5%8F%A3.html)[下一页14-选择文件对话框](/AirL-My-blog/Electron/14-%E9%80%89%E6%8B%A9%E6%96%87%E4%BB%B6%E5%AF%B9%E8%AF%9D%E6%A1%86.html)Loading...